<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Criar Conta - Livraria Pedro II</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<header class="top-bar">
		<a href="index.html" class="logo">Livraria Pedro II</a>
		<nav class="nav-links">
			<a href="entrar.html">Login</a>
			<a href="catalogo.html">Catálogo</a>
			<a href="carrinho.html">Carrinho</a>
			<a href="about.html">Sobre a livraria</a>
		</nav>
	</header>

	<div class="criar-conta-container">
		<div class="criar-conta-box">
		<h2>Criar Conta</h2>
		<form id="criarConta" action="entrar.html" method="post">
			<label for="nome">Nome completo:</label>
			<input type="text" id="nome" name="nome" required>
			
			<label for="usuario">Usuário:</label>
			<input type="text" id="usuario" name="usuario" required>
			
			<label for="email">Email:</label>
			<input type="email" id="email" name="email" required>

			<label for="endereco">Endereço:</label>
			<input type="text" id="endereco" name="endereco" required>
			
			<label for="cep">CEP:</label>
			<input type="text" id="cep" name="cep" pattern="\d{5}-?\d{3}" placeholder="Ex: 12345-678" required>

			<label for="senha">Senha:</label>
			<input type="password" id="senha" name="senha" required>

			<label for="confirmar_senha">Confirmar Senha:</label>
			<input type="password" id="confirmar_senha" name="confirmar_senha" required>

			<input type="submit" value="Criar Conta">
		</form>
		</div>
	</div>

	<script>
		document.getElementById("criarConta").addEventListener("submit", function(e) {
			e.preventDefault();
			
			const usuario = document.getElementById("usuario").value.trim();
			const senha = document.getElementById("senha").value.trim();

			// Recupera ou inicializa a lista de usuários no localStorage
			const usuarios = JSON.parse(localStorage.getItem("usuarios") || "[]");

			// Verifica se o usuário já existe
			const usuarioExistente = usuarios.find(u => u.usuario === usuario);
			if (usuarioExistente) {
				alert("Usuário já cadastrado!");
				return;
			}

			// Adiciona o novo usuário
			usuarios.push({ usuario, senha });
			localStorage.setItem("usuarios", JSON.stringify(usuarios));
			alert("Cadastro realizado com sucesso!");
			//this.reset(); // Limpa o formulário
		});
	</script>

</body>
</html>

